/**
 * Modules in this bundle
 * @license
 *
 * minieditor:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: appleple
 *   homepage: http://developer.a-blogcms.jp
 *   version: 0.0.1
 *
 * a-template:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: steelydylan
 *   version: 0.2.0
 *
 * delegate:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   version: 3.1.3
 *
 * morphdom:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Patrick Steele-Idem <pnidem@gmail.com>
 *   version: 2.3.2
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function e(t,n,r){function a(i,u){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return a(n||e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("morphdom"),i=e("delegate"),u=[],l="input paste copy click change keydown keyup contextmenu mouseup mousedown mousemove touchstart touchend touchmove compositionstart compositionend",c=l.replace(/([a-z]+)/g,"[data-action-$1],")+"[data-action]";Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],a=void 0,o=0;o<n;o++)if(a=t[o],e.call(r,a,o,t))return a}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});var f=function(e){return document.querySelector(e)},s=function(e){for(var t=0,n=u.length;t<n;t++)for(var r=u[t],a=r.templates,o=0,i=a.length;o<i;o++)if(a[o]==e)return r;return null},d=function(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null},p=function(e,t,n,r){n.split(" ").forEach(function(n){i(e,t,n,r)})};"undefined"!=typeof document&&(p(document,"[data-bind]","input change click",function(e){var t=e.delegateTarget,n=t.getAttribute("data-bind"),r=t.getAttribute("href"),a=d(t,"[data-id]").getAttribute("data-id"),o=t.value;if(r&&(o=o.replace("#","")),a){var i=s(a);"radio"===t.getAttribute("type")||("checkbox"===t.getAttribute("type")?function(){var e=[],t=document.querySelectorAll('[data-bind="'+n+'"]');[].forEach.call(t,function(t){t.checked&&e.push(t.value)})}():i.updateDataByString(n,o))}}),p(document,c,l,function(e){var t=e.delegateTarget;if(!("click"===e.type&&"select"===t.tagName||"input"===e.type&&"button"===t.getAttribute("type"))){var n=l.split(" "),r="action";n.forEach(function(n){t.getAttribute("data-action-"+n)&&e.type===n&&(r+="-"+n)});var a=t.getAttribute("data-"+r);if(a){var o=a.replace(/\(.*?\);?/,""),i=a.replace(/(.*?)\((.*?)\);?/,"$2"),u=i.split(","),c=d(t,"[data-id]").getAttribute("data-id");if(c){var f=s(c);f.e=e,f.method&&f.method[o]?f.method[o].apply(f,u):f[o]&&f[o].apply(f,u)}}}}));var v=function(){function e(t){r(this,e),this.atemplate=[],u.push(this);for(var n in t)this[n]=t[n];this.data||(this.data={}),this.templates||(this.templates=[]);for(var a=this.templates,o=a.length,i=0,l=o;i<l;i++){var c=this.templates[i],s=f("#"+c).innerHTML;this.atemplate.push({id:c,html:s})}this.setId()}return a(e,[{key:"addTemplate",value:function(e,t){this.atemplate.push({id:e,html:t}),this.templates.push(e)}},{key:"loadHtml",value:function(){var e=this.templates,t=[];return e.forEach(function(e){var n=new $.Deferred;t.push(n);var r=f("#"+e).getAttribute("src");$.ajax({url:r,type:"GET",dataType:"text"}).success(function(t){f("#"+e).innerHTML=t,n.resolve()})}),$.when.apply($,t)}},{key:"getData",value:function(){return JSON.parse(JSON.stringify(this.data))}},{key:"saveData",value:function(e){var t=JSON.stringify(this.data);localStorage.setItem(e,t)}},{key:"setData",value:function(e){for(var t in e)"function"!=typeof e[t]&&(this.data[t]=e[t])}},{key:"loadData",value:function(e){var t=JSON.parse(localStorage.getItem(e));if(t)for(var n in t)"function"!=typeof t[n]&&(this.data[n]=t[n])}},{key:"getRand",value:function(e,t){return~~(Math.random()*(t-e+1))+e}},{key:"getRandText",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(this.getRand(0,r)));return t}},{key:"setId",value:function(){for(var t=void 0,n=(e.ids,!1);;){t=this.getRandText(10);for(var r=0,a=e.ids;r<a;r++)e.ids[r]===t&&(n=!0);if(!1===n)break}this.data.aTemplate_id=t}},{key:"getDataFromObj",value:function(e,t){e=e.replace(/\[([a-zA-Z0-9._-]+)\]/g,".$1"),e=e.replace(/^\./,"");for(var n=e.split(".");n.length;){var r=n.shift();if(!(r in t))return;t=t[r]}return t}},{key:"getDataByString",value:function(e){var t=this.data;return this.getDataFromObj(e,t)}},{key:"updateDataByString",value:function(e,t){for(var n=this.data,r=e.split(".");r.length>1;)n=n[r.shift()];n[r.shift()]=t}},{key:"removeDataByString",value:function(e){for(var t=this.data,n=e.split(".");n.length>1;)t=t[n.shift()];var r=n.shift();r.match(/^\d+$/)?t.splice(Number(r),1):delete t[r]}},{key:"resolveBlock",value:function(e,t,n){var r=this,a=e.match(/<!-- BEGIN ([a-zA-Z0-9._-]+):touch#([a-zA-Z0-9._-]+) -->/g),o=e.match(/<!-- BEGIN ([a-zA-Z0-9._-]+):touchnot#([a-zA-Z0-9._-]+) -->/g),i=e.match(/<!-- BEGIN ([a-zA-Z0-9._-]+):exist -->/g),u=e.match(/<!-- BEGIN ([a-zA-Z0-9._-]+):empty -->/g);if(a)for(var l=0,c=a.length;l<c;l++){var f=a[l];f=f.replace(/([a-zA-Z0-9._-]+):touch#([a-zA-Z0-9._-]+)/,"($1):touch#($2)");var s=f.replace(/BEGIN/,"END"),d=new RegExp(f+"(([\\n\\r\\t]|.)*?)"+s,"g");e=e.replace(d,function(e,n,a,o){return("function"==typeof t[n]?t[n].apply(r):r.getDataFromObj(n,t))==a?o:""})}if(o)for(var p=0,v=o.length;p<v;p++){var h=o[p];h=h.replace(/([a-zA-Z0-9._-]+):touchnot#([a-zA-Z0-9._-]+)/,"($1):touchnot#($2)");var m=h.replace(/BEGIN/,"END"),y=new RegExp(h+"(([\\n\\r\\t]|.)*?)"+m,"g");e=e.replace(y,function(e,n,a,o){return("function"==typeof t[n]?t[n].apply(r):r.getDataFromObj(n,t))!=a?o:""})}if(i)for(var g=0,b=i.length;g<b;g++){var E=i[g];E=E.replace(/([a-zA-Z0-9._-]+):exist/,"($1):exist");var N=E.replace(/BEGIN/,"END"),A=new RegExp(E+"(([\\n\\r\\t]|.)*?)"+N,"g");e=e.replace(A,function(e,n,a){var o="function"==typeof t[n]?t[n].apply(r):r.getDataFromObj(n,t);return o||0===o?a:""})}if(u)for(var x=0,S=u.length;x<S;x++){var w=u[x];w=w.replace(/([a-zA-Z0-9._-]+):empty/,"($1):empty");var k=w.replace(/BEGIN/,"END"),T=new RegExp(w+"(([\\n\\r\\t]|.)*?)"+k,"g");e=e.replace(T,function(e,n,a){var o="function"==typeof t[n]?t[n].apply(r):r.getDataFromObj(n,t);return o||0===o?"":a})}return e=e.replace(/{([a-zA-Z0-9._-]+)}(\[([a-zA-Z0-9._-]+)\])*/g,function(e,a,o,i){var u=void 0;if("i"==a)u=n;else{if(!t[a]&&0!==t[a])return i&&r.convert&&r.convert[i]?r.convert[i].call(r,""):"";u="function"==typeof t[a]?t[a].apply(r):t[a]}return i&&r.convert&&r.convert[i]?r.convert[i].call(r,u):u})}},{key:"resolveAbsBlock",value:function(e){var t=this;return e=e.replace(/{(.*?)}/g,function(e,n){var r=t.getDataByString(n);return void 0!==r?"function"==typeof r?r.apply(t):r:e})}},{key:"resolveInclude",value:function(e){var t=/<!-- #include id="(.*?)" -->/g;return e=e.replace(t,function(e,t){return f("#"+t).innerHTML})}},{key:"resolveWith",value:function(e){var t=/<!-- BEGIN ([a-zA-Z0-9._-]+):with -->(([\n\r\t]|.)*?)<!-- END ([a-zA-Z0-9._-]+):with -->/g;return e=e.replace(t,function(e,t,n){return e=e.replace(/data\-bind=['"](.*?)['"]/g,"data-bind='"+t+".$1'")})}},{key:"resolveLoop",value:function(e){var t=/<!-- BEGIN (.+?):loop -->(([\n\r\t]|.)*?)<!-- END (.+?):loop -->/g,n=this;return e=e.replace(t,function(e,t,r){var a=n.getDataByString(t),o=[];o="function"==typeof a?a.apply(n):a;var i="";if(o instanceof Array)for(var u=0,l=o.length;u<l;u++)i+=n.resolveBlock(r,o[u],u);return i=i.replace(/\\([^\\])/g,"$1")})}},{key:"removeData",value:function(e){var t=this.data;for(var n in t)for(var r=0,a=e.length;r<a;r++)n===e[r]&&delete t[n];return this}},{key:"hasLoop",value:function(e){var t=/<!-- BEGIN (.+?):loop -->(([\n\r\t]|.)*?)<!-- END (.+?):loop -->/g;return!!e.match(t)}},{key:"getHtml",value:function(e,t){var n=this.atemplate.find(function(t){return t.id===e}),r="";if(n&&n.html&&(r=n.html),t&&(r=e),!r)return"";var a=this.data;for(r=this.resolveInclude(r),r=this.resolveWith(r);this.hasLoop(r);)r=this.resolveLoop(r);return r=this.resolveBlock(r,a),r=r.replace(/\\([^\\])/g,"$1"),r=this.resolveAbsBlock(r),r.replace(/^([\t ])*\n/gm,"")}},{key:"update",value:function(e,t){var n=(this.getHtml(),this.templates),r=e||"html";this.beforeUpdated&&this.beforeUpdated();for(var a=0,i=n.length;a<i;a++){var u=n[a],l="#"+u,c=this.getHtml(u),s=f("[data-id='"+u+"']");if((!t||t==u)&&(s?"text"===r?s.innerText=c:o(s,"<div data-id='"+u+"'>"+c+"</div>"):(f(l).insertAdjacentHTML("afterend",'<div data-id="'+u+'"></div>'),"text"===r?f("[data-id='"+u+"']").innerText=c:f("[data-id='"+u+"']").innerHTML=c),t))break}return this.updateBindingData(t),this.onUpdated&&this.onUpdated(t),this}},{key:"updateBindingData",value:function(e){for(var t=this,n=this.templates,r=0,a=n.length;r<a;r++){var o=n[r];if(!e||e==o){var i=f("[data-id='"+o+"']"),u=i.querySelectorAll("[data-bind]");if([].forEach.call(u,function(e){var n=t.getDataByString(e.getAttribute("data-bind"));"checkbox"===e.getAttribute("type")||"radio"===e.getAttribute("type")?n==e.value&&(e.checked=!0):e.value=n}),e)break}}return this}},{key:"applyMethod",value:function(e){var t=[].splice.call(arguments,0);return t.shift(),this.method[e].apply(this,t)}},{key:"getComputedProp",value:function(e){return this.data[e].apply(this)}},{key:"remove",value:function(e){for(var t=this.data,n=e.split(".");n.length>1;)t=t[n.shift()];var r=n.shift();return r.match(/^\d+$/)?t.splice(Number(r),1):delete t[r],this}}]),e}();t.exports=v},{delegate:3,morphdom:4}],2:[function(e,t,n){function r(e,t){for(;e&&e.nodeType!==a;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var a=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=r},{}],3:[function(e,t,n){function r(e,t,n,r,o){var i=a.apply(this,arguments);return e.addEventListener(n,i,o),{destroy:function(){e.removeEventListener(n,i,o)}}}function a(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}var o=e("./closest");t.exports=r},{"./closest":2}],4:[function(e,t,n){"use strict";function r(e){!s&&v.createRange&&(s=v.createRange(),s.selectNode(v.body));var t;return s&&s.createContextualFragment?t=s.createContextualFragment(e):(t=v.createElement("body"),t.innerHTML=e),t.childNodes[0]}function a(e,t){var n=e.nodeName,r=t.nodeName;return n===r||!!(t.actualize&&n.charCodeAt(0)<91&&r.charCodeAt(0)>90)&&n===r.toUpperCase()}function o(e,t){return t&&t!==p?v.createElementNS(t,e):v.createElement(e)}function i(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function u(e,t){var n,r,a,o,i,u=t.attributes;for(n=u.length-1;n>=0;--n)r=u[n],a=r.name,o=r.namespaceURI,i=r.value,o?(a=r.localName||a,e.getAttributeNS(o,a)!==i&&e.setAttributeNS(o,a,i)):e.getAttribute(a)!==i&&e.setAttribute(a,i);for(u=e.attributes,n=u.length-1;n>=0;--n)r=u[n],!1!==r.specified&&(a=r.name,o=r.namespaceURI,o?(a=r.localName||a,m(t,o,a)||e.removeAttributeNS(o,a)):m(t,null,a)||e.removeAttribute(a))}function l(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function c(){}function f(e){return e.id}var s,d,p="http://www.w3.org/1999/xhtml",v="undefined"==typeof document?void 0:document,h=v?v.body||v.createElement("div"):{};d=h.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:h.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return null!=e.getAttributeNode(t,n)};var m=d,y={OPTION:function(e,t){l(e,t,"selected")},INPUT:function(e,t){l(e,t,"checked"),l(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),m(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var a=r.nodeValue;if(a==n||!n&&a==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!m(t,null,"multiple")){for(var n=0,r=t.firstChild;r;){var a=r.nodeName;if(a&&"OPTION"===a.toUpperCase()){if(m(r,null,"selected")){n;break}n++}r=r.nextSibling}e.selectedIndex=n}}},g=1,b=3,E=8,N=function(e){return function(t,n,u){function l(e){A?A.push(e):A=[e]}function s(e,t){if(e.nodeType===g)for(var n=e.firstChild;n;){var r=void 0;t&&(r=x(n))?l(r):(D(n),n.firstChild&&s(n,t)),n=n.nextSibling}}function d(e,t,n){!1!==C(e)&&(t&&t.removeChild(e),D(e),s(e,n))}function p(e){if(e.nodeType===g)for(var t=e.firstChild;t;){var n=x(t);n&&(_[n]=t),p(t),t=t.nextSibling}}function h(e){w(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=x(t);if(r){var o=_[r];o&&a(t,o)&&(t.parentNode.replaceChild(o,t),m(o,t))}h(t),t=n}}function m(r,o,i){var u,c=x(o);if(c&&delete _[c],!n.isSameNode||!n.isSameNode(t)){if(!i){if(!1===k(r,o))return;if(e(r,o),T(r),!1===O(r,o))return}if("TEXTAREA"!==r.nodeName){var f,s,p,N,A=o.firstChild,w=r.firstChild;e:for(;A;){for(p=A.nextSibling,f=x(A);w;){if(s=w.nextSibling,A.isSameNode&&A.isSameNode(w)){A=p,w=s;continue e}u=x(w);var C=w.nodeType,D=void 0;if(C===A.nodeType&&(C===g?(f?f!==u&&((N=_[f])?w.nextSibling===N?D=!1:(r.insertBefore(N,w),s=w.nextSibling,u?l(u):d(w,r,!0),w=N):D=!1):u&&(D=!1),(D=!1!==D&&a(w,A))&&m(w,A)):C!==b&&C!=E||(D=!0,w.nodeValue=A.nodeValue)),D){A=p,w=s;continue e}u?l(u):d(w,r,!0),w=s}if(f&&(N=_[f])&&a(N,A))r.appendChild(N),m(N,A);else{var B=S(A);!1!==B&&(B&&(A=B),A.actualize&&(A=A.actualize(r.ownerDocument||v)),r.appendChild(A),h(A))}A=p,w=s}for(;w;)s=w.nextSibling,(u=x(w))?l(u):d(w,r,!0),w=s}var z=y[r.nodeName];z&&z(r,o)}}if(u||(u={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName){var N=n;n=v.createElement("html"),n.innerHTML=N}else n=r(n);var A,x=u.getNodeKey||f,S=u.onBeforeNodeAdded||c,w=u.onNodeAdded||c,k=u.onBeforeElUpdated||c,T=u.onElUpdated||c,C=u.onBeforeNodeDiscarded||c,D=u.onNodeDiscarded||c,O=u.onBeforeElChildrenUpdated||c,B=!0===u.childrenOnly,_={};p(t);var z=t,I=z.nodeType,M=n.nodeType;if(!B)if(I===g)M===g?a(t,n)||(D(t),z=i(t,o(n.nodeName,n.namespaceURI))):z=n;else if(I===b||I===E){if(M===I)return z.nodeValue=n.nodeValue,z;z=n}if(z===n)D(t);else if(m(z,n,B),A)for(var j=0,L=A.length;j<L;j++){var R=_[A[j]];R&&d(R,R.parentNode,!1)}return!B&&z!==t&&t.parentNode&&(z.actualize&&(z=z.actualize(t.ownerDocument||v)),t.parentNode.replaceChild(z,t)),z}}(u);t.exports=N},{}],5:[function(e,t,n){"use strict";var r=e("../index"),a=function(e){e.fn.smartPhoto=function(e){return"strings"==typeof e||new r(this.selector,e),this}};if("function"==typeof define&&define.amd)define(["jquery"],a);else{var o=window.jQuery?window.jQuery:window.$;void 0!==o&&a(o)}t.exports=a},{"../index":7}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=e("a-template"),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=(e("../lib/util"),function(e){function t(e,n){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),t}(u.default));t.exports=l},{"../lib/util":8,"a-template":1}],7:[function(e,t,n){"use strict";t.exports=e("./core/")},{"./core/":6}],8:[function(e,t,n){"use strict";function r(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var o in n)n.hasOwnProperty(o)&&("object"===a(n[o])?e[o]=r(e[o],n[o]):e[o]=n[o])}return e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports.isSmartPhone=function(){var e=navigator.userAgent;return e.indexOf("iPhone")>0||e.indexOf("iPad")>0||e.indexOf("ipod")>0||e.indexOf("Android")>0},t.exports.extend=r,t.exports.triggerEvent=function(e,t,n){var r=void 0;window.CustomEvent?r=new CustomEvent(t,{cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!1,!1,n)),e.dispatchEvent(r)},t.exports.parseQuery=function(e){for(var t,n,r,a=e.split("&"),o={},i=0,u=a.length;i<u;i++)t=a[i].split("="),void 0!==t[0]&&(n=t[0],r=void 0!==t[1]?t.slice(1).join("="):n,o[n]=decodeURIComponent(r));return o},t.exports.getViewPos=function(e){return{left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top}},t.exports.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},t.exports.append=function(e,t){var n=new DOMParser,r=n.parseFromString(t,"text/html");e.appendChild(r.querySelector("body").childNodes[0])},t.exports.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},t.exports.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{}]},{},[5]);